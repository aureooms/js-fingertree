"use strict";!function(){var t=function(t,n){function e(t,n,i){return t=t.force(),i=i.force(),t instanceof A?d(i,n):i instanceof A?p(t,n):t instanceof q?d(i,n).cons(t.head()):i instanceof q?p(t,n).push(i.last()):new B(t.M,t.left,G(function(){return e(t.middle,t.right._nodes_with_list(t.M,n,i.left),i.middle)}),i.right)}function i(t,e){var i=!0,r=!1,o=n;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var h=s.value;t=t.push(h)}}catch(c){r=!0,o=c}finally{try{!i&&u["return"]&&u["return"]()}finally{if(r)throw o}}return t}function r(t,n){return new A(t).append(n)}function o(t,n){var e=[],i=n.length,r=0;switch(i%3){case 1:e.push(F(t,n[0],n[1])),e.push(F(t,n[2],n[3])),r+=4;break;case 2:e.push(F(t,n[0],n[1])),r+=2}for(;i>r;r+=3)e.push(Y(t,n[r],n[r+1],n[r+2]));return e}function s(t,n){return d(t,Array.from(n))}function u(t){this.M=t}function h(t){return t instanceof u?t:new u(t)}function c(t,n){return n=n.force(),n instanceof A?t:n instanceof q?t.push(n.last()):new B(t.M,t.left,G(function(){return e(t.middle,t.right._nodes(t.M,n.left),n.middle)}),n.right)}function p(t,n){for(var e=n.length,i=0;e>i;++i)t=t.push(n[i]);return t}function a(t,n,e,i){return G(function(){return N(t,n,e,i)})}function f(t,n,e,i){return G(function(){return k(t,n,e,i)})}function l(t){switch(t.length){case 1:return new D(t[0]);case 2:return new T(t[0],t[1]);case 3:return new j(t[0],t[1],t[2]);case 4:throw new Error("digit(.) should never be called on length 4 lists since it is only called on results of splitDigit which outputs lists of length at most 3");default:throw new Error("cannot make digit for length "+t.length)}}function y(t,n){if(n instanceof D)return new q(t,n.a);if(n instanceof T||n instanceof j||n instanceof z)return new B(t,n.init(),new A(t),new D(n.last()));throw new Error("second argument is not a Digit")}function w(t,n){switch(n.length){case 0:return new A(t);case 1:return new q(t,n[0]);case 2:return new B(t,new D(n[0]),new A(t),new D(n[1]));case 3:return new B(t,new T(n[0],n[1]),new A(t),new D(n[2]));default:throw new Error("second argument has wrong length")}}function d(t,n){for(var e=n.length;e--;)t=t.cons(n[e]);return t}function m(){}function g(t,n){this.value=t,this.next=n}function b(t){this.current=t}function v(t){return new b(new g(null,t))}function M(t,n){return new g({done:!1,value:t},n)}function E(t){return new g({done:!1,value:t},I)}function _(){this.value={done:!0},this.next=this}function x(t,n,e){this.left=t,this.middle=n,this.right=e}function N(t,n,e,i){return 0===n.length?e.empty()?y(t,i):new B(t,e.head().digit(),G(function(){return e.tail()}),i):new B(t,l(n),e,i)}function k(t,n,e,i){return 0===i.length?e.empty()?y(t,n):new B(t,n,G(function(){return e.init()}),e.last().digit()):new B(t,n,e,l(i))}function S(){}function D(t){this.a=t,this.v=null}function T(t,n){this.a=t,this.b=n,this.v=null}function j(t,n,e){this.a=t,this.b=n,this.c=e,this.v=null}function z(t,n,e,i){this.a=t,this.b=n,this.c=e,this.d=i,this.v=null}function R(t,n,e){this.v=t,this.a=n,this.b=e}function F(t,n,e){return new R(t.plus(t.measure(n),t.measure(e)),n,e)}function O(t,n,e,i){this.v=t,this.a=n,this.b=e,this.c=i}function Y(t,n,e,i){return new O(t.plus(t.measure(n),t.plus(t.measure(e),t.measure(i))),n,e,i)}function U(){}function A(t){this.M=t,this.v=t.zero()}function q(t,n){this.M=t,this.element=n,this.v=t.measure(n)}function B(t,n,e,i){this.M=t,this.left=n,this.middle=e,this.right=i,this.v=null}function C(t){this.tree=null,this.thunk=t}function G(t){return new C(t)}u.prototype.zero=function(){return this.M.zero()},u.prototype.plus=function(t,n){return this.M.plus(t,n)},u.prototype.measure=function(t){return t.measure()},m.prototype.next=function(){return{done:!0}};var H=new m;b.prototype.next=function(){return(this.current=this.current.next).value};var I=new _;return S.prototype._concat=function(t,n){return this._list().concat(t).concat(n._list())},S.prototype._nodes_with_list=function(t,n,e){return o(t,this._concat(n,e))},S.prototype[Symbol.iterator]=function(){return this._list()[Symbol.iterator]()},D.prototype=new S,D.prototype.measure=function(t){return null===this.v&&(this.v=t.measure(this.a)),this.v},D.prototype.head=function(){return this.a},D.prototype.last=function(){return this.a},D.prototype.init=function(){throw new Error("cannot call init on digit One")},D.prototype.tail=function(){throw new Error("cannot call tail on digit One")},D.prototype.push=function(t){return new T(this.a,t)},D.prototype.cons=function(t){return new T(t,this.a)},D.prototype.node=function(t){throw new Error("cannot convert One to node")},D.prototype.splitDigit=function(t,n,e){return new x([],this.a,[])},D.prototype._nodes=function(t,n){return n instanceof D?[F(t,this.a,n.a)]:n instanceof T?[Y(t,this.a,n.a,n.b)]:n instanceof j?[F(t,this.a,n.a),F(t,n.b,n.c)]:[Y(t,this.a,n.a,n.b),F(t,n.c,n.d)]},D.prototype._list=function(){return[this.a]},T.prototype=new S,T.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.measure(this.b))),this.v},T.prototype.head=function(){return this.a},T.prototype.last=function(){return this.b},T.prototype.init=function(){return new D(this.a)},T.prototype.tail=function(){return new D(this.b)},T.prototype.push=function(t){return new j(this.a,this.b,t)},T.prototype.cons=function(t){return new j(t,this.a,this.b)},T.prototype.node=function(t){throw new Error("Two should never be converted to Node2 with current implementation")},T.prototype.splitDigit=function(t,n,e){return n=e.plus(n,e.measure(this.a)),t(n)?new x([],this.a,[this.b]):new x([this.a],this.b,[])},T.prototype._nodes=function(t,n){return n instanceof D?[Y(t,this.a,this.b,n.a)]:n instanceof T?[F(t,this.a,this.b),F(t,n.a,n.b)]:n instanceof j?[Y(t,this.a,this.b,n.a),F(t,n.b,n.c)]:[Y(t,this.a,this.b,n.a),Y(t,n.b,n.c,n.d)]},T.prototype._list=function(){return[this.a,this.b]},j.prototype=new S,j.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.measure(this.c)))),this.v},j.prototype.head=function(){return this.a},j.prototype.last=function(){return this.c},j.prototype.init=function(){return new T(this.a,this.b)},j.prototype.tail=function(){return new T(this.b,this.c)},j.prototype.push=function(t){return new z(this.a,this.b,this.c,t)},j.prototype.cons=function(t){return new z(t,this.a,this.b,this.c)},j.prototype.node=function(t){return Y(t,this.a,this.b,this.c)},j.prototype.splitDigit=function(t,n,e){return n=e.plus(n,e.measure(this.a)),t(n)?new x([],this.a,[this.b,this.c]):(n=e.plus(n,e.measure(this.b)),t(n)?new x([this.a],this.b,[this.c]):new x([this.a,this.b],this.c,[]))},j.prototype._nodes=function(t,n){return n instanceof D?[F(t,this.a,this.b),F(t,this.c,n.a)]:n instanceof T?[Y(t,this.a,this.b,this.c),F(t,n.a,n.b)]:n instanceof j?[Y(t,this.a,this.b,this.c),Y(t,n.a,n.b,n.c)]:[Y(t,this.a,this.b,this.c),F(t,n.a,n.b),F(t,n.c,n.d)]},j.prototype._list=function(){return[this.a,this.b,this.c]},z.prototype=new S,z.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.plus(t.measure(this.c),t.measure(this.d))))),this.v},z.prototype.head=function(){return this.a},z.prototype.last=function(){return this.d},z.prototype.init=function(){return new j(this.a,this.b,this.c)},z.prototype.tail=function(){return new j(this.b,this.c,this.d)},z.prototype.push=function(t){throw new Error("cannot push digit Four")},z.prototype.cons=function(t){throw new Error("cannot cons digit Four")},z.prototype.node=function(t){throw new Error("cannot convert Four to node")},z.prototype.splitDigit=function(t,n,e){return n=e.plus(n,e.measure(this.a)),t(n)?new x([],this.a,[this.b,this.c,this.d]):(n=e.plus(n,e.measure(this.b)),t(n)?new x([this.a],this.b,[this.c,this.d]):(n=e.plus(n,e.measure(this.c)),t(n)?new x([this.a,this.b],this.c,[this.d]):new x([this.a,this.b,this.c],this.d,[])))},z.prototype._nodes=function(t,n){return n instanceof D?[Y(t,this.a,this.b,this.c),F(t,this.d,n.a)]:n instanceof T?[Y(t,this.a,this.b,this.c),Y(t,this.d,n.a,n.b)]:n instanceof j?[Y(t,this.a,this.b,this.c),F(t,this.d,n.a),F(t,n.b,n.c)]:[Y(t,this.a,this.b,this.c),Y(t,this.d,n.a,n.b),F(t,n.c,n.d)]},z.prototype._list=function(){return[this.a,this.b,this.c,this.d]},R.prototype[Symbol.iterator]=function(){return v(M(this.a,E(this.b)))},R.prototype.measure=function(){return this.v},R.prototype.digit=function(){return new T(this.a,this.b)},R.prototype.head=function(){throw new Error("trying to call head of Node2")},R.prototype.last=function(){throw new Error("trying to call last of Node2")},R.prototype.init=function(){throw new Error("trying to call init of Node2")},R.prototype.tail=function(){throw new Error("trying to call tail of Node2")},R.prototype.push=function(t){throw new Error("trying to call push of Node2")},R.prototype.cons=function(t){throw new Error("trying to call cons of Node2")},O.prototype[Symbol.iterator]=function(){return v(M(this.a,M(this.b,E(this.c))))},O.prototype.measure=function(){return this.v},O.prototype.digit=function(){return new j(this.a,this.b,this.c)},O.prototype.head=function(){throw new Error("trying to call head of Node3")},O.prototype.last=function(){throw new Error("trying to call last of Node3")},O.prototype.init=function(){throw new Error("trying to call init of Node3")},O.prototype.tail=function(){throw new Error("trying to call tail of Node3")},O.prototype.push=function(t){throw new Error("trying to call push of Node3")},O.prototype.cons=function(t){throw new Error("trying to call cons of Node3")},U.prototype.force=function(){return this},U.prototype.takeUntil=function(t){return this.split(t)[0]},U.prototype.dropUntil=function(t){return this.split(t)[1]},U.prototype.append=function(t){return i(this,t)},U.prototype.prepend=function(t){return s(this,t)},A.prototype=new U,A.prototype.measure=function(){return this.v},A.prototype.empty=function(){return!0},A.prototype.head=function(){throw new Error("cannot call head on Empty")},A.prototype.last=function(){throw new Error("cannot call last on Empty")},A.prototype.tail=function(){return this},A.prototype.init=function(){return this},A.prototype.push=function(t){return new q(this.M,t)},A.prototype.cons=function(t){return new q(this.M,t)},A.prototype.concat=function(t){return t},A.prototype[Symbol.iterator]=function(){return H},A.prototype.splitTree=function(t,n){throw new Error("splitTree not implemented in Empty")},A.prototype.split=function(t){return[this,this]},q.prototype=new U,q.prototype.measure=function(){return this.v},q.prototype.empty=function(){return!1},q.prototype.head=function(){return this.element},q.prototype.last=function(){return this.element},q.prototype.tail=function(){return new A(this.M)},q.prototype.init=function(){return new A(this.M)},q.prototype.cons=function(t){return new B(this.M,new D(t),new A(h(this.M)),new D(this.element))},q.prototype.push=function(t){return new B(this.M,new D(this.element),new A(h(this.M)),new D(t))},q.prototype.concat=function(t){return t.cons(this.element)},q.prototype[Symbol.iterator]=regeneratorRuntime.mark(function J(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.element;case 2:case"end":return t.stop()}},J,this)}),q.prototype.splitTree=function(t,n){return new x(new A(this.M),this.element,new A(this.M))},q.prototype.split=function(t){return t(this.measure())?[new A(this.M),this]:[this,new A(this.M)]},B.prototype=new U,B.prototype.measure=function(){if(null===this.v){var t=this.M;this.v=t.plus(this.left.measure(t),t.plus(this.middle.measure(),this.right.measure(t)))}return this.v},B.prototype.empty=function(){return!1},B.prototype.head=function(){return this.left.head()},B.prototype.last=function(){return this.right.last()},B.prototype.tail=function(){var t=this;return this.left instanceof D?this.middle.empty()?y(this.M,this.right):new B(this.M,this.middle.head().digit(),G(function(){return t.middle.tail()}),this.right):new B(this.M,this.left.tail(),this.middle,this.right)},B.prototype.init=function(){var t=this;return this.right instanceof D?this.middle.empty()?y(this.M,this.left):new B(this.M,this.left,G(function(){return t.middle.init()}),this.middle.last().digit()):new B(this.M,this.left,this.middle,this.right.init())},B.prototype.cons=function(t){return this.left instanceof z?new B(this.M,new T(t,this.left.head()),this.middle.cons(this.left.tail().node(this.M)),this.right):new B(this.M,this.left.cons(t),this.middle,this.right)},B.prototype.push=function(t){return this.right instanceof z?new B(this.M,this.left,this.middle.push(this.right.init().node(this.M)),new T(this.right.last(),t)):new B(this.M,this.left,this.middle,this.right.push(t))},B.prototype.concat=function(t){return c(this,t)},B.prototype[Symbol.iterator]=regeneratorRuntime.mark(function K(){var t,e,i,r,o,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.delegateYield(this.left,"t0",1);case 1:t=!0,e=!1,i=n,u.prev=4,r=this.middle[Symbol.iterator]();case 6:if(t=(o=r.next()).done){u.next=12;break}return s=o.value,u.delegateYield(s,"t1",9);case 9:t=!0,u.next=6;break;case 12:u.next=18;break;case 14:u.prev=14,u.t2=u["catch"](4),e=!0,i=u.t2;case 18:u.prev=18,u.prev=19,!t&&r["return"]&&r["return"]();case 21:if(u.prev=21,!e){u.next=24;break}throw i;case 24:return u.finish(21);case 25:return u.finish(18);case 26:return u.delegateYield(this.right,"t3",27);case 27:case"end":return u.stop()}},K,this,[[4,14,18,26],[19,,21,25]])}),B.prototype.splitTree=function(t,n){var e=this.left,i=this.middle,r=this.right,o=this.M,s=o.plus(n,e.measure(o));if(t(s)){var u=e.splitDigit(t,n,o);return new x(w(o,u.left),u.middle,a(o,u.right,i,r))}var h=o.plus(s,i.measure());if(t(h)){var c=i.splitTree(t,s),p=c.middle.digit().splitDigit(t,o.plus(s,c.left.measure()),o);return new x(f(o,e,c.left,p.left),p.middle,a(o,p.right,c.right,r))}var l=r.splitDigit(t,h,o);return new x(f(o,e,i,l.left),l.middle,w(o,l.right))},B.prototype.split=function(t){if(t(this.measure())){var n=this.splitTree(t,this.M.zero());return[n.left,n.right.cons(n.middle)]}return[this,new A(this.M)]},C.prototype=new U,C.prototype.force=function(){return null===this.tree&&(this.tree=this.thunk(),this.thunk=null),this.tree},C.prototype.empty=function(){return this.force().empty()},C.prototype.measure=function(){return this.force().measure()},C.prototype.head=function(){return this.force().head()},C.prototype.last=function(){return this.force().last()},C.prototype.cons=function(t){return this.force().cons(t)},C.prototype.push=function(t){return this.force().push(t)},C.prototype.tail=function(){return this.force().tail()},C.prototype.init=function(){return this.force().init()},C.prototype.splitTree=function(t,n){return this.force().splitTree(t,n)},C.prototype.split=function(t){return this.force().split(t)},C.prototype.concat=function(t){return this.force().concat(t)},C.prototype[Symbol.iterator]=function(){return this.force()[Symbol.iterator]()},t.empty=function(t){return new A(t)},t.from_iterable=r,t};"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define("aureooms-js-fingertree",[],function(){return t({})}):"object"==typeof window&&"object"==typeof window.document?t(window.fingertree={}):console.error("unable to detect type of module to define for aureooms-js-fingertree")}();
//# sourceMappingURL=js/dist/fingertree.js.map