"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _get=function(t,e,n){for(var r=!0;r;){var i=t,u=e,s=n;a=c=o=void 0,r=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,u);if(void 0!==a){if("value"in a)return a.value;var o=a.get;return void 0===o?void 0:o.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;t=c,e=u,n=s,r=!0}},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(){var t=function(t,e){function n(t){switch(t.length){case 1:return new R(t[0]);case 2:return new O(t[0],t[1]);case 3:return new j(t[0],t[1],t[2]);case 4:throw new Error("digit(.) should never be called on length 4 lists since it is only called on results of splitDigit which outputs lists of length at most 3");default:throw new Error("cannot make digit for length "+t.length)}}function r(t,e){return l(a,e,t)}function i(t,e){return l(o,f(e),t)}function u(t,e){return new P(t).extend(e)}function s(t,e){switch(e.length){case 2:return[p(t,e[0],e[1])];case 3:return[k(t,e[0],e[1],e[2])];case 4:return[p(t,e[0],e[1]),p(t,e[2],e[3])];default:return[k(t,e[0],e[1],e[2])].concat(s(t,e.slice(3)))}}function a(t,e){return t.push(e)}function o(t,e){return t.unshift(e)}function c(){var t,n,r,i,u,s,a,o,c,h=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:for(t=!0,n=!1,r=e,l.prev=3,i=h.length,u=Array(i),s=0;i>s;s++)u[s]=h[s];a=u[Symbol.iterator]();case 6:if(t=(o=a.next()).done){l.next=12;break}return c=o.value,l.delegateYield(c,"t0",9);case 9:t=!0,l.next=6;break;case 12:l.next=18;break;case 14:l.prev=14,l.t1=l["catch"](3),n=!0,r=l.t1;case 18:l.prev=18,l.prev=19,!t&&a["return"]&&a["return"]();case 21:if(l.prev=21,!n){l.next=24;break}throw r;case 24:return l.finish(21);case 25:return l.finish(18);case 26:case"end":return l.stop()}},b[0],this,[[3,14,18,26],[19,,21,25]])}function h(t,n){var r,i,u,s,a,o;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:r=!0,i=!1,u=e,c.prev=3,s=n[Symbol.iterator]();case 5:if(r=(a=s.next()).done){c.next=12;break}return o=a.value,c.next=9,t(o);case 9:r=!0,c.next=5;break;case 12:c.next=18;break;case 14:c.prev=14,c.t0=c["catch"](3),i=!0,u=c.t0;case 18:c.prev=18,c.prev=19,!r&&s["return"]&&s["return"]();case 21:if(c.prev=21,!i){c.next=24;break}throw u;case 24:return c.finish(21);case 25:return c.finish(18);case 26:case"end":return c.stop()}},b[1],this,[[3,14,18,26],[19,,21,25]])}function l(t,n,r){var i=r,u=!0,s=!1,a=e;try{for(var o,c=n[Symbol.iterator]();!(u=(o=c.next()).done);u=!0){var h=o.value;i=t(i,h)}}catch(l){s=!0,a=l}finally{try{!u&&c["return"]&&c["return"]()}finally{if(s)throw a}}return i}function f(t){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=t.length;case 1:if(!e--){n.next=6;break}return n.next=4,t[e];case 4:n.next=1;break;case 6:case"end":return n.stop()}},b[2],this)}function y(t){return t instanceof M?t:new M(t)}function v(t,e){return l(t.plus.bind(t),h(t.measure.bind(t),e),t.zero())}function d(t,e,r,i){return 0===e.length?r.empty()?u(t,i):new z(t,r.head().digit(),m(function(){return r.tail()}),i):new z(t,n(e),r,i)}function w(t,e,r,i){return 0===i.length?r.empty()?u(t,e):new z(t,e,m(function(){return r.init()}),r.last().digit()):new z(t,e,r,n(i))}function p(t,e,n){return new S(v(t,[e,n]),e,n)}function k(t,e,n,r){return new T(v(t,[e,n,r]),e,n,r)}function g(t){return new P(t)}function m(t){return new F(t)}var b=[c,h,f].map(regeneratorRuntime.mark),x=function Y(t,e,n){return t=t.force(),n=n.force(),t instanceof P?i(n,e):n instanceof P?r(t,e):t instanceof A?i(n,e).unshift(t.head()):n instanceof A?r(t,e).push(n.last()):new z(t.M,t.left,m(function(){return Y(t.middle,s(t.M,[].concat(_toConsumableArray(c(t.right,e,n.left)))),n.middle)}),n.right)},C=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"next",value:function(){return{done:!0}}}]),t}(),_=new C,M=function(){function t(e){_classCallCheck(this,t),this.M=e}return _createClass(t,[{key:"zero",value:function(){return this.M.zero()}},{key:"plus",value:function(t,e){return this.M.plus(t,e)}},{key:"measure",value:function(t){return t.measure()}}]),t}(),E=function U(t,e,n){_classCallCheck(this,U),this.left=t,this.middle=e,this.right=n},R=function(){function t(e){_classCallCheck(this,t),this.a=e}return _createClass(t,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:case"end":return t.stop()}},e,this)})},{key:"head",value:function(){return this.a}},{key:"last",value:function(){return this.a}},{key:"init",value:function(){throw new Error("cannot call init on digit One")}},{key:"tail",value:function(){throw new Error("cannot call tail on digit One")}},{key:"push",value:function(t){return new O(this.a,t)}},{key:"unshift",value:function(t){return new O(t,this.a)}},{key:"node",value:function(t){throw new Error("cannot convert One to node")}},{key:"splitDigit",value:function(t,e,n){return new E([],this.a,[])}},{key:"length",get:function(){return 1}}]),t}(),O=function(){function t(e,n){_classCallCheck(this,t),this.a=e,this.b=n}return _createClass(t,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:case"end":return t.stop()}},e,this)})},{key:"head",value:function(){return this.a}},{key:"last",value:function(){return this.b}},{key:"init",value:function(){return new R(this.a)}},{key:"tail",value:function(){return new R(this.b)}},{key:"push",value:function(t){return new j(this.a,this.b,t)}},{key:"unshift",value:function(t){return new j(t,this.a,this.b)}},{key:"node",value:function(t){throw new Error("Two should never be converted to Node2 with current implementation")}},{key:"splitDigit",value:function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new E([],this.a,[this.b]):new E([this.a],this.b,[])}},{key:"length",get:function(){return 2}}]),t}(),j=function(){function t(e,n,r){_classCallCheck(this,t),this.a=e,this.b=n,this.c=r}return _createClass(t,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:return t.next=6,this.c;case 6:case"end":return t.stop()}},e,this)})},{key:"head",value:function(){return this.a}},{key:"last",value:function(){return this.c}},{key:"init",value:function(){return new O(this.a,this.b)}},{key:"tail",value:function(){return new O(this.b,this.c)}},{key:"push",value:function(t){return new N(this.a,this.b,this.c,t)}},{key:"unshift",value:function(t){return new N(t,this.a,this.b,this.c)}},{key:"node",value:function(t){return k(t,this.a,this.b,this.c)}},{key:"splitDigit",value:function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new E([],this.a,[this.b,this.c]):(e=n.plus(e,n.measure(this.b)),t(e)?new E([this.a],this.b,[this.c]):new E([this.a,this.b],this.c,[]))}},{key:"length",get:function(){return 3}}]),t}(),N=function(){function t(e,n,r,i){_classCallCheck(this,t),this.a=e,this.b=n,this.c=r,this.d=i}return _createClass(t,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:return t.next=6,this.c;case 6:return t.next=8,this.d;case 8:case"end":return t.stop()}},e,this)})},{key:"head",value:function(){return this.a}},{key:"last",value:function(){return this.d}},{key:"init",value:function(){return new j(this.a,this.b,this.c)}},{key:"tail",value:function(){return new j(this.b,this.c,this.d)}},{key:"push",value:function(t){throw new Error("cannot push digit Four")}},{key:"unshift",value:function(t){throw new Error("cannot unshift digit Four")}},{key:"node",value:function(t){throw new Error("cannot convert Four to node")}},{key:"splitDigit",value:function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new E([],this.a,[this.b,this.c,this.d]):(e=n.plus(e,n.measure(this.b)),t(e)?new E([this.a],this.b,[this.c,this.d]):(e=n.plus(e,n.measure(this.c)),t(e)?new E([this.a,this.b],this.c,[this.d]):new E([this.a,this.b,this.c],this.d,[])))}},{key:"length",get:function(){return 4}}]),t}(),S=function(){function t(e,n,r){_classCallCheck(this,t),this.v=e,this.a=n,this.b=r}return _createClass(t,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:case"end":return t.stop()}},e,this)})},{key:"measure",value:function(){return this.v}},{key:"digit",value:function(){return new O(this.a,this.b)}},{key:"head",value:function(){throw new Error("trying to call head of Node2")}},{key:"last",value:function(){throw new Error("trying to call last of Node2")}},{key:"init",value:function(){throw new Error("trying to call init of Node2")}},{key:"tail",value:function(){throw new Error("trying to call tail of Node2")}},{key:"push",value:function(t){throw new Error("trying to call push of Node2")}},{key:"unshift",value:function(t){throw new Error("trying to call unshift of Node2")}},{key:"length",get:function(){throw new Error("trying to call length of Node2")}}]),t}(),T=function(){function t(e,n,r,i){_classCallCheck(this,t),this.v=e,this.a=n,this.b=r,this.c=i}return _createClass(t,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:return t.next=6,this.c;case 6:case"end":return t.stop()}},e,this)})},{key:"measure",value:function(){return this.v}},{key:"digit",value:function(){return new j(this.a,this.b,this.c)}},{key:"head",value:function(){throw new Error("trying to call head of Node3")}},{key:"last",value:function(){throw new Error("trying to call last of Node3")}},{key:"init",value:function(){throw new Error("trying to call init of Node3")}},{key:"tail",value:function(){throw new Error("trying to call tail of Node3")}},{key:"push",value:function(t){throw new Error("trying to call push of Node3")}},{key:"unshift",value:function(t){throw new Error("trying to call unshift of Node3")}},{key:"length",get:function(){throw new Error("trying to call length of Node3")}}]),t}(),D=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"force",value:function(){return this}},{key:"takeUntil",value:function(t){return this.split(t)[0]}},{key:"dropUntil",value:function(t){return this.split(t)[1]}},{key:"extend",value:function(t){return l(a,t,this)}},{key:"extendleft",value:function(t){return l(o,f([].concat(_toConsumableArray(t))),this)}}]),t}(),P=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.M=t,this.v=t.zero()}return _inherits(e,t),_createClass(e,[{key:"measure",value:function(){return this.v}},{key:"empty",value:function(){return!0}},{key:"head",value:function(){throw new Error("cannot call head on Empty")}},{key:"last",value:function(){throw new Error("cannot call last on Empty")}},{key:"tail",value:function(){return this}},{key:"init",value:function(){return this}},{key:"push",value:function(t){return new A(this.M,t)}},{key:"unshift",value:function(t){return new A(this.M,t)}},{key:"concat",value:function(t){return t}},{key:Symbol.iterator,value:function(){return _}},{key:"splitTree",value:function(t,e){throw new Error("splitTree not implemented in Empty")}},{key:"split",value:function(t){return[this,this]}}]),e}(D),A=function(t){function e(t,n){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.M=t,this.element=n,this.v=t.measure(n)}return _inherits(e,t),_createClass(e,[{key:"measure",value:function(){return this.v}},{key:"empty",value:function(){return!1}},{key:"head",value:function(){return this.element}},{key:"last",value:function(){return this.element}},{key:"tail",value:function(){return new P(this.M)}},{key:"init",value:function(){return new P(this.M)}},{key:"unshift",value:function(t){return new z(this.M,new R(t),new P(y(this.M)),new R(this.element))}},{key:"push",value:function(t){return new z(this.M,new R(this.element),new P(y(this.M)),new R(t))}},{key:"concat",value:function(t){return t.unshift(this.element)}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.element;case 2:case"end":return t.stop()}},n,this)})},{key:"splitTree",value:function(t,e){return new E(new P(this.M),this.element,new P(this.M))}},{key:"split",value:function(t){return t(this.measure())?[new P(this.M),this]:[this,new P(this.M)]}}]),e}(D),z=function(t){function n(t,e,r,i){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.M=t,this.left=e,this.middle=r,this.right=i,this.v=t.plus(v(t,this.left),t.plus(this.middle.measure(),v(t,this.right)))}return _inherits(n,t),_createClass(n,[{key:"measure",value:function(){return this.v}},{key:"empty",value:function(){return!1}},{key:"head",value:function(){return this.left.head()}},{key:"last",value:function(){return this.right.last()}},{key:"tail",value:function(){var t=this;return 1===this.left.length?this.middle.empty()?u(this.M,this.right):new n(this.M,this.middle.head().digit(),m(function(){return t.middle.tail()}),this.right):new n(this.M,this.left.tail(),this.middle,this.right)}},{key:"init",value:function(){var t=this;return 1===this.right.length?this.middle.empty()?u(this.M,this.left):new n(this.M,this.left,m(function(){return t.middle.init()}),this.middle.last().digit()):new n(this.M,this.left,this.middle,this.right.init())}},{key:"unshift",value:function(t){return 4===this.left.length?new n(this.M,new O(t,this.left.head()),this.middle.unshift(this.left.tail().node(this.M)),this.right):new n(this.M,this.left.unshift(t),this.middle,this.right)}},{key:"push",value:function(t){return 4===this.right.length?new n(this.M,this.left,this.middle.push(this.right.init().node(this.M)),new O(this.right.last(),t)):new n(this.M,this.left,this.middle,this.right.push(t))}},{key:"concat",value:function(t){return x(this,[],t)}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function r(){var t,n,i,u,s,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this.left,"t0",1);case 1:t=!0,n=!1,i=e,r.prev=4,u=this.middle[Symbol.iterator]();case 6:if(t=(s=u.next()).done){r.next=12;break}return a=s.value,r.delegateYield(a,"t1",9);case 9:t=!0,r.next=6;break;case 12:r.next=18;break;case 14:r.prev=14,r.t2=r["catch"](4),n=!0,i=r.t2;case 18:r.prev=18,r.prev=19,!t&&u["return"]&&u["return"]();case 21:if(r.prev=21,!n){r.next=24;break}throw i;case 24:return r.finish(21);case 25:return r.finish(18);case 26:return r.delegateYield(this.right,"t3",27);case 27:case"end":return r.stop()}},r,this,[[4,14,18,26],[19,,21,25]])})},{key:"splitTree",value:function(t,e){var n=this.left,r=this.middle,i=this.right,s=this.M,a=s.plus(e,v(s,n));if(t(a)){var o=n.splitDigit(t,e,s);return new E(u(s,o.left),o.middle,d(s,o.right,r,i))}var c=s.plus(a,r.measure());if(t(c)){var h=r.splitTree(t,a),l=h.middle.digit().splitDigit(t,s.plus(a,h.left.measure()),s);return new E(w(s,n,h.left,l.left),l.middle,d(s,l.right,h.right,i))}var f=i.splitDigit(t,c,s);return new E(w(s,n,r,f.left),f.middle,u(s,f.right))}},{key:"split",value:function i(t){if(t(this.measure())){var i=this.splitTree(t,this.M.zero());return[i.left,i.right.unshift(i.middle)]}return[this,new P(this.M)]}}]),n}(D);g.from_iterable=u,t.FingerTree=g;var F=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.tree=null,this.thunk=t}return _inherits(e,t),_createClass(e,[{key:"force",value:function(){return null===this.tree&&(this.tree=this.thunk()),this.tree}},{key:"empty",value:function(){return this.force().empty()}},{key:"measure",value:function(){return this.force().measure()}},{key:"head",value:function(){return this.force().head()}},{key:"last",value:function(){return this.force().last()}},{key:"unshift",value:function(t){return this.force().unshift(t)}},{key:"push",value:function(t){return this.force().push(t)}},{key:"tail",value:function(){return this.force().tail()}},{key:"init",value:function(){return this.force().init()}},{key:"splitTree",value:function(t,e){return this.force().splitTree(t,e)}},{key:"split",value:function(t){return this.force().split(t)}},{key:"concat",value:function(t){return this.force().concat(t)}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.force(),"t0",1);case 1:case"end":return t.stop()}},n,this)})}]),e}(D);return t};"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define("aureooms-js-fingertree",[],function(){return t({})}):"object"==typeof window&&"object"==typeof window.document?t(window.fingertree={}):console.error("unable to detect type of module to define for aureooms-js-fingertree")}();
//# sourceMappingURL=js/dist/fingertree.js.map