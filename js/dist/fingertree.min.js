"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}!function(){var t=function(t,e){function n(t,e,i){return t=t.force(),i=i.force(),t instanceof z?b(i,e):i instanceof z?r(t,e):t instanceof F?b(i,e).cons(t.head()):i instanceof F?r(t,e).push(i.last()):new _(t.M,t.left,U(function(){return n(t.middle,o(t.M,[].concat(_toConsumableArray(h(t.right,e,i.left)))),i.middle)}),i.right)}function r(t,e){return a(u,e,t)}function i(t,e){return new z(t).append(e)}function o(t,e){switch(e.length){case 2:return[D(t,e[0],e[1])];case 3:return[j(t,e[0],e[1],e[2])];case 4:return[D(t,e[0],e[1]),D(t,e[2],e[3])];default:return[j(t,e[0],e[1],e[2])].concat(o(t,e.slice(3)))}}function s(t,e){return a(c,p([].concat(_toConsumableArray(e))),t)}function u(t,e){return t.push(e)}function c(t,e){return t.cons(e)}function h(){var t,n,r,i,o,s,u,c,h,a=arguments;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:for(t=!0,n=!1,r=e,p.prev=3,i=a.length,o=Array(i),s=0;i>s;s++)o[s]=a[s];u=o[Symbol.iterator]();case 6:if(t=(c=u.next()).done){p.next=12;break}return h=c.value,p.delegateYield(h,"t0",9);case 9:t=!0,p.next=6;break;case 12:p.next=18;break;case 14:p.prev=14,p.t1=p["catch"](3),n=!0,r=p.t1;case 18:p.prev=18,p.prev=19,!t&&u["return"]&&u["return"]();case 21:if(p.prev=21,!n){p.next=24;break}throw r;case 24:return p.finish(21);case 25:return p.finish(18);case 26:case"end":return p.stop()}},q[0],this,[[3,14,18,26],[19,,21,25]])}function a(t,n,r){var i=r,o=!0,s=!1,u=e;try{for(var c,h=n[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var a=c.value;i=t(i,a)}}catch(p){s=!0,u=p}finally{try{!o&&h["return"]&&h["return"]()}finally{if(s)throw u}}return i}function p(t){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=t.length;case 1:if(!e--){n.next=6;break}return n.next=4,t[e];case 4:n.next=1;break;case 6:case"end":return n.stop()}},q[1],this)}function f(t){this.M=t}function l(t){return t instanceof f?t:new f(t)}function y(t,e,n,r){return U(function(){return M(t,e,n,r)})}function w(t,e,n,r){return U(function(){return E(t,e,n,r)})}function d(t){switch(t.length){case 1:return new k(t[0]);case 2:return new R(t[0],t[1]);case 3:return new N(t[0],t[1],t[2]);case 4:throw new Error("digit(.) should never be called on length 4 lists since it is only called on results of splitDigit which outputs lists of length at most 3");default:throw new Error("cannot make digit for length "+t.length)}}function m(t,e){if(e instanceof k)return new F(t,e.a);if(e instanceof R||e instanceof N||e instanceof S)return new _(t,e.init(),new z(t),new k(e.last()));throw new Error("second argument is not a Digit")}function g(t,e){return 0===e.length?new z(t):m(t,d(e))}function b(t,e){return a(c,p(e),t)}function v(){}function x(t,e,n){this.left=t,this.middle=e,this.right=n}function M(t,e,n,r){return 0===e.length?n.empty()?m(t,r):new _(t,n.head().digit(),U(function(){return n.tail()}),r):new _(t,d(e),n,r)}function E(t,e,n,r){return 0===r.length?n.empty()?m(t,e):new _(t,e,U(function(){return n.init()}),n.last().digit()):new _(t,e,n,d(r))}function k(t){this.a=t}function R(t,e){this.a=t,this.b=e}function N(t,e,n){this.a=t,this.b=e,this.c=n}function S(t,e,n,r){this.a=t,this.b=e,this.c=n,this.d=r}function T(t,e,n){this.v=t,this.a=e,this.b=n}function D(t,e,n){return new T(t.plus(t.measure(e),t.measure(n)),e,n)}function A(t,e,n,r){this.v=t,this.a=e,this.b=n,this.c=r}function j(t,e,n,r){return new A(t.plus(t.measure(e),t.plus(t.measure(n),t.measure(r))),e,n,r)}function Y(){}function z(t){this.M=t,this.v=t.zero()}function F(t,e){this.M=t,this.element=e,this.v=t.measure(e)}function _(t,e,n,r){this.M=t,this.left=e,this.middle=n,this.right=r,this.v=null}function C(t){return new z(t)}function O(t){this.tree=null,this.thunk=t}function U(t){return new O(t)}var q=[h,p].map(regeneratorRuntime.mark);f.prototype.zero=function(){return this.M.zero()},f.prototype.plus=function(t,e){return this.M.plus(t,e)},f.prototype.measure=function(t){return t.measure()},v.prototype.next=function(){return{done:!0}};var B=new v;return k.prototype[Symbol.iterator]=regeneratorRuntime.mark(function G(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:case"end":return t.stop()}},G,this)}),k.prototype.measure=function(t){return t.measure(this.a)},k.prototype.head=function(){return this.a},k.prototype.last=function(){return this.a},k.prototype.init=function(){throw new Error("cannot call init on digit One")},k.prototype.tail=function(){throw new Error("cannot call tail on digit One")},k.prototype.push=function(t){return new R(this.a,t)},k.prototype.cons=function(t){return new R(t,this.a)},k.prototype.node=function(t){throw new Error("cannot convert One to node")},k.prototype.splitDigit=function(t,e,n){return new x([],this.a,[])},R.prototype[Symbol.iterator]=regeneratorRuntime.mark(function H(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:case"end":return t.stop()}},H,this)}),R.prototype.measure=function(t){return t.plus(t.measure(this.a),t.measure(this.b))},R.prototype.head=function(){return this.a},R.prototype.last=function(){return this.b},R.prototype.init=function(){return new k(this.a)},R.prototype.tail=function(){return new k(this.b)},R.prototype.push=function(t){return new N(this.a,this.b,t)},R.prototype.cons=function(t){return new N(t,this.a,this.b)},R.prototype.node=function(t){throw new Error("Two should never be converted to Node2 with current implementation")},R.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new x([],this.a,[this.b]):new x([this.a],this.b,[])},N.prototype[Symbol.iterator]=regeneratorRuntime.mark(function I(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:return t.next=6,this.c;case 6:case"end":return t.stop()}},I,this)}),N.prototype.measure=function(t){return t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.measure(this.c)))},N.prototype.head=function(){return this.a},N.prototype.last=function(){return this.c},N.prototype.init=function(){return new R(this.a,this.b)},N.prototype.tail=function(){return new R(this.b,this.c)},N.prototype.push=function(t){return new S(this.a,this.b,this.c,t)},N.prototype.cons=function(t){return new S(t,this.a,this.b,this.c)},N.prototype.node=function(t){return j(t,this.a,this.b,this.c)},N.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new x([],this.a,[this.b,this.c]):(e=n.plus(e,n.measure(this.b)),t(e)?new x([this.a],this.b,[this.c]):new x([this.a,this.b],this.c,[]))},S.prototype[Symbol.iterator]=regeneratorRuntime.mark(function J(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:return t.next=6,this.c;case 6:return t.next=8,this.d;case 8:case"end":return t.stop()}},J,this)}),S.prototype.measure=function(t){return t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.plus(t.measure(this.c),t.measure(this.d))))},S.prototype.head=function(){return this.a},S.prototype.last=function(){return this.d},S.prototype.init=function(){return new N(this.a,this.b,this.c)},S.prototype.tail=function(){return new N(this.b,this.c,this.d)},S.prototype.push=function(t){throw new Error("cannot push digit Four")},S.prototype.cons=function(t){throw new Error("cannot cons digit Four")},S.prototype.node=function(t){throw new Error("cannot convert Four to node")},S.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new x([],this.a,[this.b,this.c,this.d]):(e=n.plus(e,n.measure(this.b)),t(e)?new x([this.a],this.b,[this.c,this.d]):(e=n.plus(e,n.measure(this.c)),t(e)?new x([this.a,this.b],this.c,[this.d]):new x([this.a,this.b,this.c],this.d,[])))},T.prototype[Symbol.iterator]=regeneratorRuntime.mark(function K(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:case"end":return t.stop()}},K,this)}),T.prototype.measure=function(){return this.v},T.prototype.digit=function(){return new R(this.a,this.b)},T.prototype.head=function(){throw new Error("trying to call head of Node2")},T.prototype.last=function(){throw new Error("trying to call last of Node2")},T.prototype.init=function(){throw new Error("trying to call init of Node2")},T.prototype.tail=function(){throw new Error("trying to call tail of Node2")},T.prototype.push=function(t){throw new Error("trying to call push of Node2")},T.prototype.cons=function(t){throw new Error("trying to call cons of Node2")},A.prototype[Symbol.iterator]=regeneratorRuntime.mark(function L(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.a;case 2:return t.next=4,this.b;case 4:return t.next=6,this.c;case 6:case"end":return t.stop()}},L,this)}),A.prototype.measure=function(){return this.v},A.prototype.digit=function(){return new N(this.a,this.b,this.c)},A.prototype.head=function(){throw new Error("trying to call head of Node3")},A.prototype.last=function(){throw new Error("trying to call last of Node3")},A.prototype.init=function(){throw new Error("trying to call init of Node3")},A.prototype.tail=function(){throw new Error("trying to call tail of Node3")},A.prototype.push=function(t){throw new Error("trying to call push of Node3")},A.prototype.cons=function(t){throw new Error("trying to call cons of Node3")},Y.prototype.force=function(){return this},Y.prototype.takeUntil=function(t){return this.split(t)[0]},Y.prototype.dropUntil=function(t){return this.split(t)[1]},Y.prototype.append=function(t){return r(this,t)},Y.prototype.prepend=function(t){return s(this,t)},z.prototype=new Y,z.prototype.measure=function(){return this.v},z.prototype.empty=function(){return!0},z.prototype.head=function(){throw new Error("cannot call head on Empty")},z.prototype.last=function(){throw new Error("cannot call last on Empty")},z.prototype.tail=function(){return this},z.prototype.init=function(){return this},z.prototype.push=function(t){return new F(this.M,t)},z.prototype.cons=function(t){return new F(this.M,t)},z.prototype.concat=function(t){return t},z.prototype[Symbol.iterator]=function(){return B},z.prototype.splitTree=function(t,e){throw new Error("splitTree not implemented in Empty")},z.prototype.split=function(t){return[this,this]},F.prototype=new Y,F.prototype.measure=function(){return this.v},F.prototype.empty=function(){return!1},F.prototype.head=function(){return this.element},F.prototype.last=function(){return this.element},F.prototype.tail=function(){return new z(this.M)},F.prototype.init=function(){return new z(this.M)},F.prototype.cons=function(t){return new _(this.M,new k(t),new z(l(this.M)),new k(this.element))},F.prototype.push=function(t){return new _(this.M,new k(this.element),new z(l(this.M)),new k(t))},F.prototype.concat=function(t){return t.cons(this.element)},F.prototype[Symbol.iterator]=regeneratorRuntime.mark(function P(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.element;case 2:case"end":return t.stop()}},P,this)}),F.prototype.splitTree=function(t,e){return new x(new z(this.M),this.element,new z(this.M))},F.prototype.split=function(t){return t(this.measure())?[new z(this.M),this]:[this,new z(this.M)]},_.prototype=new Y,_.prototype.measure=function(){if(null===this.v){var t=this.M;this.v=t.plus(this.left.measure(t),t.plus(this.middle.measure(),this.right.measure(t)))}return this.v},_.prototype.empty=function(){return!1},_.prototype.head=function(){return this.left.head()},_.prototype.last=function(){return this.right.last()},_.prototype.tail=function(){var t=this;return this.left instanceof k?this.middle.empty()?m(this.M,this.right):new _(this.M,this.middle.head().digit(),U(function(){return t.middle.tail()}),this.right):new _(this.M,this.left.tail(),this.middle,this.right)},_.prototype.init=function(){var t=this;return this.right instanceof k?this.middle.empty()?m(this.M,this.left):new _(this.M,this.left,U(function(){return t.middle.init()}),this.middle.last().digit()):new _(this.M,this.left,this.middle,this.right.init())},_.prototype.cons=function(t){return this.left instanceof S?new _(this.M,new R(t,this.left.head()),this.middle.cons(this.left.tail().node(this.M)),this.right):new _(this.M,this.left.cons(t),this.middle,this.right)},_.prototype.push=function(t){return this.right instanceof S?new _(this.M,this.left,this.middle.push(this.right.init().node(this.M)),new R(this.right.last(),t)):new _(this.M,this.left,this.middle,this.right.push(t))},_.prototype.concat=function(t){return n(this,[],t)},_.prototype[Symbol.iterator]=regeneratorRuntime.mark(function Q(){var t,n,r,i,o,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.delegateYield(this.left,"t0",1);case 1:t=!0,n=!1,r=e,u.prev=4,i=this.middle[Symbol.iterator]();case 6:if(t=(o=i.next()).done){u.next=12;break}return s=o.value,u.delegateYield(s,"t1",9);case 9:t=!0,u.next=6;break;case 12:u.next=18;break;case 14:u.prev=14,u.t2=u["catch"](4),n=!0,r=u.t2;case 18:u.prev=18,u.prev=19,!t&&i["return"]&&i["return"]();case 21:if(u.prev=21,!n){u.next=24;break}throw r;case 24:return u.finish(21);case 25:return u.finish(18);case 26:return u.delegateYield(this.right,"t3",27);case 27:case"end":return u.stop()}},Q,this,[[4,14,18,26],[19,,21,25]])}),_.prototype.splitTree=function(t,e){var n=this.left,r=this.middle,i=this.right,o=this.M,s=o.plus(e,n.measure(o));if(t(s)){var u=n.splitDigit(t,e,o);return new x(g(o,u.left),u.middle,y(o,u.right,r,i))}var c=o.plus(s,r.measure());if(t(c)){var h=r.splitTree(t,s),a=h.middle.digit().splitDigit(t,o.plus(s,h.left.measure()),o);return new x(w(o,n,h.left,a.left),a.middle,y(o,a.right,h.right,i))}var p=i.splitDigit(t,c,o);return new x(w(o,n,r,p.left),p.middle,g(o,p.right))},_.prototype.split=function(t){if(t(this.measure())){var e=this.splitTree(t,this.M.zero());return[e.left,e.right.cons(e.middle)]}return[this,new z(this.M)]},C.from_iterable=i,t.FingerTree=C,O.prototype=new Y,O.prototype.force=function(){return null===this.tree&&(this.tree=this.thunk()),this.tree},O.prototype.empty=function(){return this.force().empty()},O.prototype.measure=function(){return this.force().measure()},O.prototype.head=function(){return this.force().head()},O.prototype.last=function(){return this.force().last()},O.prototype.cons=function(t){return this.force().cons(t)},O.prototype.push=function(t){return this.force().push(t)},O.prototype.tail=function(){return this.force().tail()},O.prototype.init=function(){return this.force().init()},O.prototype.splitTree=function(t,e){return this.force().splitTree(t,e)},O.prototype.split=function(t){return this.force().split(t)},O.prototype.concat=function(t){return this.force().concat(t)},O.prototype[Symbol.iterator]=regeneratorRuntime.mark(function V(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.force(),"t0",1);case 1:case"end":return t.stop()}},V,this)}),t};"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define("aureooms-js-fingertree",[],function(){return t({})}):"object"==typeof window&&"object"==typeof window.document?t(window.fingertree={}):console.error("unable to detect type of module to define for aureooms-js-fingertree")}();
//# sourceMappingURL=js/dist/fingertree.js.map