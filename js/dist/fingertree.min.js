"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}!function(){var t=function(t,e){function n(t,e,i){return t=t.force(),i=i.force(),t instanceof q?v(i,e):i instanceof q?r(t,e):t instanceof B?v(i,e).cons(t.head()):i instanceof B?r(t,e).push(i.last()):new G(t.M,t.left,J(function(){return n(t.middle,o(t.M,[].concat(_toConsumableArray(c(t.right,e,i.left)))),i.middle)}),i.right)}function r(t,e){return p(u,e,t)}function i(t,e){return new q(t).append(e)}function o(t,e){switch(e.length){case 2:return[_(t,e[0],e[1])];case 3:return[O(t,e[0],e[1],e[2])];case 4:return[_(t,e[0],e[1]),_(t,e[2],e[3])];default:return[O(t,e[0],e[1],e[2])].concat(o(t,e.slice(3)))}}function s(t,e){return p(h,a([].concat(_toConsumableArray(e))),t)}function u(t,e){return t.push(e)}function h(t,e){return t.cons(e)}function c(){var t,n,r,i,o,s,u,h,c,p=arguments;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(t=!0,n=!1,r=e,a.prev=3,i=p.length,o=Array(i),s=0;i>s;s++)o[s]=p[s];u=o[Symbol.iterator]();case 6:if(t=(h=u.next()).done){a.next=12;break}return c=h.value,a.delegateYield(c,"t0",9);case 9:t=!0,a.next=6;break;case 12:a.next=18;break;case 14:a.prev=14,a.t1=a["catch"](3),n=!0,r=a.t1;case 18:a.prev=18,a.prev=19,!t&&u["return"]&&u["return"]();case 21:if(a.prev=21,!n){a.next=24;break}throw r;case 24:return a.finish(21);case 25:return a.finish(18);case 26:case"end":return a.stop()}},K[0],this,[[3,14,18,26],[19,,21,25]])}function p(t,n,r){var i=r,o=!0,s=!1,u=e;try{for(var h,c=n[Symbol.iterator]();!(o=(h=c.next()).done);o=!0){var p=h.value;i=t(i,p)}}catch(a){s=!0,u=a}finally{try{!o&&c["return"]&&c["return"]()}finally{if(s)throw u}}return i}function a(t){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=t.length;case 1:if(!e--){n.next=6;break}return n.next=4,t[e];case 4:n.next=1;break;case 6:case"end":return n.stop()}},K[1],this)}function f(t){this.M=t}function l(t){return t instanceof f?t:new f(t)}function y(t,e,n,r){return J(function(){return D(t,e,n,r)})}function w(t,e,n,r){return J(function(){return A(t,e,n,r)})}function d(t){switch(t.length){case 1:return new R(t[0]);case 2:return new j(t[0],t[1]);case 3:return new z(t[0],t[1],t[2]);case 4:throw new Error("digit(.) should never be called on length 4 lists since it is only called on results of splitDigit which outputs lists of length at most 3");default:throw new Error("cannot make digit for length "+t.length)}}function m(t,e){if(e instanceof R)return new B(t,e.a);if(e instanceof j||e instanceof z||e instanceof F)return new G(t,e.init(),new q(t),new R(e.last()));throw new Error("second argument is not a Digit")}function g(t,e){return 0===e.length?new q(t):m(t,d(e))}function v(t,e){return p(h,a(e),t)}function b(){}function M(t,e){this.value=t,this.next=e}function E(t){this.current=t}function x(t){return new E(new M(null,t))}function k(t,e){return new M({done:!1,value:t},e)}function S(t){return new M({done:!1,value:t},P)}function N(){this.value={done:!0},this.next=this}function T(t,e,n){this.left=t,this.middle=e,this.right=n}function D(t,e,n,r){return 0===e.length?n.empty()?m(t,r):new G(t,n.head().digit(),J(function(){return n.tail()}),r):new G(t,d(e),n,r)}function A(t,e,n,r){return 0===r.length?n.empty()?m(t,e):new G(t,e,J(function(){return n.init()}),n.last().digit()):new G(t,e,n,d(r))}function R(t){this.a=t,this.v=null}function j(t,e){this.a=t,this.b=e,this.v=null}function z(t,e,n){this.a=t,this.b=e,this.c=n,this.v=null}function F(t,e,n,r){this.a=t,this.b=e,this.c=n,this.d=r,this.v=null}function Y(t,e,n){this.v=t,this.a=e,this.b=n}function _(t,e,n){return new Y(t.plus(t.measure(e),t.measure(n)),e,n)}function C(t,e,n,r){this.v=t,this.a=e,this.b=n,this.c=r}function O(t,e,n,r){return new C(t.plus(t.measure(e),t.plus(t.measure(n),t.measure(r))),e,n,r)}function U(){}function q(t){this.M=t,this.v=t.zero()}function B(t,e){this.M=t,this.element=e,this.v=t.measure(e)}function G(t,e,n,r){this.M=t,this.left=e,this.middle=n,this.right=r,this.v=null}function H(t){return new q(t)}function I(t){this.tree=null,this.thunk=t}function J(t){return new I(t)}var K=[c,a].map(regeneratorRuntime.mark);f.prototype.zero=function(){return this.M.zero()},f.prototype.plus=function(t,e){return this.M.plus(t,e)},f.prototype.measure=function(t){return t.measure()},b.prototype.next=function(){return{done:!0}};var L=new b;E.prototype.next=function(){return(this.current=this.current.next).value};var P=new N;return R.prototype[Symbol.iterator]=function(){return x(S(this.a))},R.prototype.measure=function(t){return null===this.v&&(this.v=t.measure(this.a)),this.v},R.prototype.head=function(){return this.a},R.prototype.last=function(){return this.a},R.prototype.init=function(){throw new Error("cannot call init on digit One")},R.prototype.tail=function(){throw new Error("cannot call tail on digit One")},R.prototype.push=function(t){return new j(this.a,t)},R.prototype.cons=function(t){return new j(t,this.a)},R.prototype.node=function(t){throw new Error("cannot convert One to node")},R.prototype.splitDigit=function(t,e,n){return new T([],this.a,[])},j.prototype[Symbol.iterator]=function(){return x(k(this.a,S(this.b)))},j.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.measure(this.b))),this.v},j.prototype.head=function(){return this.a},j.prototype.last=function(){return this.b},j.prototype.init=function(){return new R(this.a)},j.prototype.tail=function(){return new R(this.b)},j.prototype.push=function(t){return new z(this.a,this.b,t)},j.prototype.cons=function(t){return new z(t,this.a,this.b)},j.prototype.node=function(t){throw new Error("Two should never be converted to Node2 with current implementation")},j.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new T([],this.a,[this.b]):new T([this.a],this.b,[])},z.prototype[Symbol.iterator]=function(){return x(k(this.a,k(this.b,S(this.c))))},z.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.measure(this.c)))),this.v},z.prototype.head=function(){return this.a},z.prototype.last=function(){return this.c},z.prototype.init=function(){return new j(this.a,this.b)},z.prototype.tail=function(){return new j(this.b,this.c)},z.prototype.push=function(t){return new F(this.a,this.b,this.c,t)},z.prototype.cons=function(t){return new F(t,this.a,this.b,this.c)},z.prototype.node=function(t){return O(t,this.a,this.b,this.c)},z.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new T([],this.a,[this.b,this.c]):(e=n.plus(e,n.measure(this.b)),t(e)?new T([this.a],this.b,[this.c]):new T([this.a,this.b],this.c,[]))},F.prototype[Symbol.iterator]=function(){return x(k(this.a,k(this.b,k(this.c,S(this.d)))))},F.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.plus(t.measure(this.c),t.measure(this.d))))),this.v},F.prototype.head=function(){return this.a},F.prototype.last=function(){return this.d},F.prototype.init=function(){return new z(this.a,this.b,this.c)},F.prototype.tail=function(){return new z(this.b,this.c,this.d)},F.prototype.push=function(t){throw new Error("cannot push digit Four")},F.prototype.cons=function(t){throw new Error("cannot cons digit Four")},F.prototype.node=function(t){throw new Error("cannot convert Four to node")},F.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new T([],this.a,[this.b,this.c,this.d]):(e=n.plus(e,n.measure(this.b)),t(e)?new T([this.a],this.b,[this.c,this.d]):(e=n.plus(e,n.measure(this.c)),t(e)?new T([this.a,this.b],this.c,[this.d]):new T([this.a,this.b,this.c],this.d,[])))},Y.prototype[Symbol.iterator]=function(){return x(k(this.a,S(this.b)))},Y.prototype.measure=function(){return this.v},Y.prototype.digit=function(){return new j(this.a,this.b)},Y.prototype.head=function(){throw new Error("trying to call head of Node2")},Y.prototype.last=function(){throw new Error("trying to call last of Node2")},Y.prototype.init=function(){throw new Error("trying to call init of Node2")},Y.prototype.tail=function(){throw new Error("trying to call tail of Node2")},Y.prototype.push=function(t){throw new Error("trying to call push of Node2")},Y.prototype.cons=function(t){throw new Error("trying to call cons of Node2")},C.prototype[Symbol.iterator]=function(){return x(k(this.a,k(this.b,S(this.c))))},C.prototype.measure=function(){return this.v},C.prototype.digit=function(){return new z(this.a,this.b,this.c)},C.prototype.head=function(){throw new Error("trying to call head of Node3")},C.prototype.last=function(){throw new Error("trying to call last of Node3")},C.prototype.init=function(){throw new Error("trying to call init of Node3")},C.prototype.tail=function(){throw new Error("trying to call tail of Node3")},C.prototype.push=function(t){throw new Error("trying to call push of Node3")},C.prototype.cons=function(t){throw new Error("trying to call cons of Node3")},U.prototype.force=function(){return this},U.prototype.takeUntil=function(t){return this.split(t)[0]},U.prototype.dropUntil=function(t){return this.split(t)[1]},U.prototype.append=function(t){return r(this,t)},U.prototype.prepend=function(t){return s(this,t)},q.prototype=new U,q.prototype.measure=function(){return this.v},q.prototype.empty=function(){return!0},q.prototype.head=function(){throw new Error("cannot call head on Empty")},q.prototype.last=function(){throw new Error("cannot call last on Empty")},q.prototype.tail=function(){return this},q.prototype.init=function(){return this},q.prototype.push=function(t){return new B(this.M,t)},q.prototype.cons=function(t){return new B(this.M,t)},q.prototype.concat=function(t){return t},q.prototype[Symbol.iterator]=function(){return L},q.prototype.splitTree=function(t,e){throw new Error("splitTree not implemented in Empty")},q.prototype.split=function(t){return[this,this]},B.prototype=new U,B.prototype.measure=function(){return this.v},B.prototype.empty=function(){return!1},B.prototype.head=function(){return this.element},B.prototype.last=function(){return this.element},B.prototype.tail=function(){return new q(this.M)},B.prototype.init=function(){return new q(this.M)},B.prototype.cons=function(t){return new G(this.M,new R(t),new q(l(this.M)),new R(this.element))},B.prototype.push=function(t){return new G(this.M,new R(this.element),new q(l(this.M)),new R(t))},B.prototype.concat=function(t){return t.cons(this.element)},B.prototype[Symbol.iterator]=regeneratorRuntime.mark(function Q(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.element;case 2:case"end":return t.stop()}},Q,this)}),B.prototype.splitTree=function(t,e){return new T(new q(this.M),this.element,new q(this.M))},B.prototype.split=function(t){return t(this.measure())?[new q(this.M),this]:[this,new q(this.M)]},G.prototype=new U,G.prototype.measure=function(){if(null===this.v){var t=this.M;this.v=t.plus(this.left.measure(t),t.plus(this.middle.measure(),this.right.measure(t)))}return this.v},G.prototype.empty=function(){return!1},G.prototype.head=function(){return this.left.head()},G.prototype.last=function(){return this.right.last()},G.prototype.tail=function(){var t=this;return this.left instanceof R?this.middle.empty()?m(this.M,this.right):new G(this.M,this.middle.head().digit(),J(function(){return t.middle.tail()}),this.right):new G(this.M,this.left.tail(),this.middle,this.right)},G.prototype.init=function(){var t=this;return this.right instanceof R?this.middle.empty()?m(this.M,this.left):new G(this.M,this.left,J(function(){return t.middle.init()}),this.middle.last().digit()):new G(this.M,this.left,this.middle,this.right.init())},G.prototype.cons=function(t){return this.left instanceof F?new G(this.M,new j(t,this.left.head()),this.middle.cons(this.left.tail().node(this.M)),this.right):new G(this.M,this.left.cons(t),this.middle,this.right)},G.prototype.push=function(t){return this.right instanceof F?new G(this.M,this.left,this.middle.push(this.right.init().node(this.M)),new j(this.right.last(),t)):new G(this.M,this.left,this.middle,this.right.push(t))},G.prototype.concat=function(t){return n(this,[],t)},G.prototype[Symbol.iterator]=regeneratorRuntime.mark(function V(){var t,n,r,i,o,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.delegateYield(this.left,"t0",1);case 1:t=!0,n=!1,r=e,u.prev=4,i=this.middle[Symbol.iterator]();case 6:if(t=(o=i.next()).done){u.next=12;break}return s=o.value,u.delegateYield(s,"t1",9);case 9:t=!0,u.next=6;break;case 12:u.next=18;break;case 14:u.prev=14,u.t2=u["catch"](4),n=!0,r=u.t2;case 18:u.prev=18,u.prev=19,!t&&i["return"]&&i["return"]();case 21:if(u.prev=21,!n){u.next=24;break}throw r;case 24:return u.finish(21);case 25:return u.finish(18);case 26:return u.delegateYield(this.right,"t3",27);case 27:case"end":return u.stop()}},V,this,[[4,14,18,26],[19,,21,25]])}),G.prototype.splitTree=function(t,e){var n=this.left,r=this.middle,i=this.right,o=this.M,s=o.plus(e,n.measure(o));if(t(s)){var u=n.splitDigit(t,e,o);return new T(g(o,u.left),u.middle,y(o,u.right,r,i))}var h=o.plus(s,r.measure());if(t(h)){var c=r.splitTree(t,s),p=c.middle.digit().splitDigit(t,o.plus(s,c.left.measure()),o);return new T(w(o,n,c.left,p.left),p.middle,y(o,p.right,c.right,i))}var a=i.splitDigit(t,h,o);return new T(w(o,n,r,a.left),a.middle,g(o,a.right))},G.prototype.split=function(t){if(t(this.measure())){var e=this.splitTree(t,this.M.zero());return[e.left,e.right.cons(e.middle)]}return[this,new q(this.M)]},H.from_iterable=i,t.FingerTree=H,I.prototype=new U,I.prototype.force=function(){return null===this.tree&&(this.tree=this.thunk()),this.tree},I.prototype.empty=function(){return this.force().empty()},I.prototype.measure=function(){return this.force().measure()},I.prototype.head=function(){return this.force().head()},I.prototype.last=function(){return this.force().last()},I.prototype.cons=function(t){return this.force().cons(t)},I.prototype.push=function(t){return this.force().push(t)},I.prototype.tail=function(){return this.force().tail()},I.prototype.init=function(){return this.force().init()},I.prototype.splitTree=function(t,e){return this.force().splitTree(t,e)},I.prototype.split=function(t){return this.force().split(t)},I.prototype.concat=function(t){return this.force().concat(t)},I.prototype[Symbol.iterator]=function(){return this.force()[Symbol.iterator]()},t};"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define("aureooms-js-fingertree",[],function(){return t({})}):"object"==typeof window&&"object"==typeof window.document?t(window.fingertree={}):console.error("unable to detect type of module to define for aureooms-js-fingertree")}();
//# sourceMappingURL=js/dist/fingertree.js.map