"use strict";!function(){var t=function(t,e){function n(t,e,i){return t=t.force(),i=i.force(),t instanceof z?d(i,e):i instanceof z?c(t,e):t instanceof R?d(i,e).cons(t.head()):i instanceof R?c(t,e).push(i.last()):new F(t.M,t.left,Y(function(){return n(t.middle,t.right._nodes_with_list(t.M,e,i.left),i.middle)}),i.right)}function i(t,n){var i=!0,r=!1,o=e;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var h=s.value;t=t.push(h)}}catch(p){r=!0,o=p}finally{try{!i&&u["return"]&&u["return"]()}finally{if(r)throw o}}return t}function r(t,e){return new z(t).append(e)}function o(t,e){var n=[],i=e.length,r=0;switch(i%3){case 1:n.push(x(t,e[0],e[1])),n.push(x(t,e[2],e[3])),r+=4;break;case 2:n.push(x(t,e[0],e[1])),r+=2}for(;i>r;r+=3)n.push(T(t,e[r],e[r+1],e[r+2]));return n}function s(t,e){return d(t,Array.from(e))}function u(t){this.M=t}function h(t){return t instanceof u?t:new u(t)}function p(t,e){return e=e.force(),e instanceof z?t:e instanceof R?t.push(e.last()):new F(t.M,t.left,Y(function(){return n(t.middle,t.right._nodes(t.M,e.left),e.middle)}),e.right)}function c(t,e){for(var n=e.length,i=0;n>i;++i)t=t.push(e[i]);return t}function a(t,e,n,i){return Y(function(){return g(t,e,n,i)})}function f(t,e,n,i){return Y(function(){return v(t,e,n,i)})}function l(t){switch(t.length){case 1:return new E(t[0]);case 2:return new _(t[0],t[1]);case 3:return new N(t[0],t[1],t[2]);case 4:throw new Error("digit(.) should never be called on length 4 lists since it is only called on results of splitDigit which outputs lists of length at most 3");default:throw new Error("cannot make digit for length "+t.length)}}function y(t,e){if(e instanceof E)return new R(t,e.a);if(e instanceof _||e instanceof N||e instanceof S)return new F(t,e.init(),new z(t),new E(e.last()));throw new Error("second argument is not a Digit")}function w(t,e){switch(e.length){case 0:return new z(t);case 1:return new R(t,e[0]);case 2:return new F(t,new E(e[0]),new z(t),new E(e[1]));case 3:return new F(t,new _(e[0],e[1]),new z(t),new E(e[2]));default:throw new Error("second argument has wrong length")}}function d(t,e){for(var n=e.length;n--;)t=t.cons(e[n]);return t}function m(){}function b(t,e,n){this.left=t,this.middle=e,this.right=n}function g(t,e,n,i){return 0===e.length?n.empty()?y(t,i):new F(t,n.head().digit(),Y(function(){return n.tail()}),i):new F(t,l(e),n,i)}function v(t,e,n,i){return 0===i.length?n.empty()?y(t,e):new F(t,e,Y(function(){return n.init()}),n.last().digit()):new F(t,e,n,l(i))}function M(){}function E(t){this.a=t,this.v=null}function _(t,e){this.a=t,this.b=e,this.v=null}function N(t,e,n){this.a=t,this.b=e,this.c=n,this.v=null}function S(t,e,n,i){this.a=t,this.b=e,this.c=n,this.d=i,this.v=null}function k(t,e,n){this.v=t,this.a=e,this.b=n}function x(t,e,n){return new k(t.plus(t.measure(e),t.measure(n)),e,n)}function D(t,e,n,i){this.v=t,this.a=e,this.b=n,this.c=i}function T(t,e,n,i){return new D(t.plus(t.measure(e),t.plus(t.measure(n),t.measure(i))),e,n,i)}function j(){}function z(t){this.M=t,this.v=t.zero()}function R(t,e){this.M=t,this.element=e,this.v=t.measure(e)}function F(t,e,n,i){this.M=t,this.left=e,this.middle=n,this.right=i,this.v=null}function O(t){this.tree=null,this.thunk=t}function Y(t){return new O(t)}u.prototype.zero=function(){return this.M.zero()},u.prototype.plus=function(t,e){return this.M.plus(t,e)},u.prototype.measure=function(t){return t.measure()},m.prototype.next=function(){return{done:!0}};var U=new m;return M.prototype._concat=function(t,e){return this._list().concat(t).concat(e._list())},M.prototype._nodes_with_list=function(t,e,n){return o(t,this._concat(e,n))},M.prototype[Symbol.iterator]=function(){return this._list()[Symbol.iterator]()},E.prototype=new M,E.prototype.measure=function(t){return null===this.v&&(this.v=t.measure(this.a)),this.v},E.prototype.head=function(){return this.a},E.prototype.last=function(){return this.a},E.prototype.init=function(){throw new Error("cannot call init on digit One")},E.prototype.tail=function(){throw new Error("cannot call tail on digit One")},E.prototype.push=function(t){return new _(this.a,t)},E.prototype.cons=function(t){return new _(t,this.a)},E.prototype.node=function(t){throw new Error("cannot convert One to node")},E.prototype.splitDigit=function(t,e,n){return new b([],this.a,[])},E.prototype._nodes=function(t,e){return e instanceof E?[x(t,this.a,e.a)]:e instanceof _?[T(t,this.a,e.a,e.b)]:e instanceof N?[x(t,this.a,e.a),x(t,e.b,e.c)]:[T(t,this.a,e.a,e.b),x(t,e.c,e.d)]},E.prototype._list=function(){return[this.a]},_.prototype=new M,_.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.measure(this.b))),this.v},_.prototype.head=function(){return this.a},_.prototype.last=function(){return this.b},_.prototype.init=function(){return new E(this.a)},_.prototype.tail=function(){return new E(this.b)},_.prototype.push=function(t){return new N(this.a,this.b,t)},_.prototype.cons=function(t){return new N(t,this.a,this.b)},_.prototype.node=function(t){throw new Error("Two should never be converted to Node2 with current implementation")},_.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new b([],this.a,[this.b]):new b([this.a],this.b,[])},_.prototype._nodes=function(t,e){return e instanceof E?[T(t,this.a,this.b,e.a)]:e instanceof _?[x(t,this.a,this.b),x(t,e.a,e.b)]:e instanceof N?[T(t,this.a,this.b,e.a),x(t,e.b,e.c)]:[T(t,this.a,this.b,e.a),T(t,e.b,e.c,e.d)]},_.prototype._list=function(){return[this.a,this.b]},N.prototype=new M,N.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.measure(this.c)))),this.v},N.prototype.head=function(){return this.a},N.prototype.last=function(){return this.c},N.prototype.init=function(){return new _(this.a,this.b)},N.prototype.tail=function(){return new _(this.b,this.c)},N.prototype.push=function(t){return new S(this.a,this.b,this.c,t)},N.prototype.cons=function(t){return new S(t,this.a,this.b,this.c)},N.prototype.node=function(t){return T(t,this.a,this.b,this.c)},N.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new b([],this.a,[this.b,this.c]):(e=n.plus(e,n.measure(this.b)),t(e)?new b([this.a],this.b,[this.c]):new b([this.a,this.b],this.c,[]))},N.prototype._nodes=function(t,e){return e instanceof E?[x(t,this.a,this.b),x(t,this.c,e.a)]:e instanceof _?[T(t,this.a,this.b,this.c),x(t,e.a,e.b)]:e instanceof N?[T(t,this.a,this.b,this.c),T(t,e.a,e.b,e.c)]:[T(t,this.a,this.b,this.c),x(t,e.a,e.b),x(t,e.c,e.d)]},N.prototype._list=function(){return[this.a,this.b,this.c]},S.prototype=new M,S.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.plus(t.measure(this.c),t.measure(this.d))))),this.v},S.prototype.head=function(){return this.a},S.prototype.last=function(){return this.d},S.prototype.init=function(){return new N(this.a,this.b,this.c)},S.prototype.tail=function(){return new N(this.b,this.c,this.d)},S.prototype.push=function(t){throw new Error("cannot push digit Four")},S.prototype.cons=function(t){throw new Error("cannot cons digit Four")},S.prototype.node=function(t){throw new Error("cannot convert Four to node")},S.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new b([],this.a,[this.b,this.c,this.d]):(e=n.plus(e,n.measure(this.b)),t(e)?new b([this.a],this.b,[this.c,this.d]):(e=n.plus(e,n.measure(this.c)),t(e)?new b([this.a,this.b],this.c,[this.d]):new b([this.a,this.b,this.c],this.d,[])))},S.prototype._nodes=function(t,e){return e instanceof E?[T(t,this.a,this.b,this.c),x(t,this.d,e.a)]:e instanceof _?[T(t,this.a,this.b,this.c),T(t,this.d,e.a,e.b)]:e instanceof N?[T(t,this.a,this.b,this.c),x(t,this.d,e.a),x(t,e.b,e.c)]:[T(t,this.a,this.b,this.c),T(t,this.d,e.a,e.b),x(t,e.c,e.d)]},S.prototype._list=function(){return[this.a,this.b,this.c,this.d]},k.prototype[Symbol.iterator]=function(){return[this.a,this.b][Symbol.iterator]()},k.prototype.measure=function(){return this.v},k.prototype.digit=function(){return new _(this.a,this.b)},k.prototype.head=function(){throw new Error("trying to call head of Node2")},k.prototype.last=function(){throw new Error("trying to call last of Node2")},k.prototype.init=function(){throw new Error("trying to call init of Node2")},k.prototype.tail=function(){throw new Error("trying to call tail of Node2")},k.prototype.push=function(t){throw new Error("trying to call push of Node2")},k.prototype.cons=function(t){throw new Error("trying to call cons of Node2")},D.prototype[Symbol.iterator]=function(){return[this.a,this.b,this.c][Symbol.iterator]()},D.prototype.measure=function(){return this.v},D.prototype.digit=function(){return new N(this.a,this.b,this.c)},D.prototype.head=function(){throw new Error("trying to call head of Node3")},D.prototype.last=function(){throw new Error("trying to call last of Node3")},D.prototype.init=function(){throw new Error("trying to call init of Node3")},D.prototype.tail=function(){throw new Error("trying to call tail of Node3")},D.prototype.push=function(t){throw new Error("trying to call push of Node3")},D.prototype.cons=function(t){throw new Error("trying to call cons of Node3")},j.prototype.force=function(){return this},j.prototype.takeUntil=function(t){return this.split(t)[0]},j.prototype.dropUntil=function(t){return this.split(t)[1]},j.prototype.append=function(t){return i(this,t)},j.prototype.prepend=function(t){return s(this,t)},z.prototype=new j,z.prototype.measure=function(){return this.v},z.prototype.empty=function(){return!0},z.prototype.head=function(){throw new Error("cannot call head on Empty")},z.prototype.last=function(){throw new Error("cannot call last on Empty")},z.prototype.tail=function(){return this},z.prototype.init=function(){return this},z.prototype.push=function(t){return new R(this.M,t)},z.prototype.cons=function(t){return new R(this.M,t)},z.prototype.concat=function(t){return t},z.prototype[Symbol.iterator]=function(){return U},z.prototype.splitTree=function(t,e){throw new Error("splitTree not implemented in Empty")},z.prototype.split=function(t){return[this,this]},R.prototype=new j,R.prototype.measure=function(){return this.v},R.prototype.empty=function(){return!1},R.prototype.head=function(){return this.element},R.prototype.last=function(){return this.element},R.prototype.tail=function(){return new z(this.M)},R.prototype.init=function(){return new z(this.M)},R.prototype.cons=function(t){return new F(this.M,new E(t),new z(h(this.M)),new E(this.element))},R.prototype.push=function(t){return new F(this.M,new E(this.element),new z(h(this.M)),new E(t))},R.prototype.concat=function(t){return t.cons(this.element)},R.prototype[Symbol.iterator]=regeneratorRuntime.mark(function A(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.element;case 2:case"end":return t.stop()}},A,this)}),R.prototype.splitTree=function(t,e){return new b(new z(this.M),this.element,new z(this.M))},R.prototype.split=function(t){return t(this.measure())?[new z(this.M),this]:[this,new z(this.M)]},F.prototype=new j,F.prototype.measure=function(){if(null===this.v){var t=this.M;this.v=t.plus(this.left.measure(t),t.plus(this.middle.measure(),this.right.measure(t)))}return this.v},F.prototype.empty=function(){return!1},F.prototype.head=function(){return this.left.head()},F.prototype.last=function(){return this.right.last()},F.prototype.tail=function(){var t=this;return this.left instanceof E?this.middle.empty()?y(this.M,this.right):new F(this.M,this.middle.head().digit(),Y(function(){return t.middle.tail()}),this.right):new F(this.M,this.left.tail(),this.middle,this.right)},F.prototype.init=function(){var t=this;return this.right instanceof E?this.middle.empty()?y(this.M,this.left):new F(this.M,this.left,Y(function(){return t.middle.init()}),this.middle.last().digit()):new F(this.M,this.left,this.middle,this.right.init())},F.prototype.cons=function(t){return this.left instanceof S?new F(this.M,new _(t,this.left.head()),this.middle.cons(this.left.tail().node(this.M)),this.right):new F(this.M,this.left.cons(t),this.middle,this.right)},F.prototype.push=function(t){return this.right instanceof S?new F(this.M,this.left,this.middle.push(this.right.init().node(this.M)),new _(this.right.last(),t)):new F(this.M,this.left,this.middle,this.right.push(t))},F.prototype.concat=function(t){return p(this,t)},F.prototype[Symbol.iterator]=regeneratorRuntime.mark(function q(){var t,n,i,r,o,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.delegateYield(this.left,"t0",1);case 1:t=!0,n=!1,i=e,u.prev=4,r=this.middle[Symbol.iterator]();case 6:if(t=(o=r.next()).done){u.next=12;break}return s=o.value,u.delegateYield(s,"t1",9);case 9:t=!0,u.next=6;break;case 12:u.next=18;break;case 14:u.prev=14,u.t2=u["catch"](4),n=!0,i=u.t2;case 18:u.prev=18,u.prev=19,!t&&r["return"]&&r["return"]();case 21:if(u.prev=21,!n){u.next=24;break}throw i;case 24:return u.finish(21);case 25:return u.finish(18);case 26:return u.delegateYield(this.right,"t3",27);case 27:case"end":return u.stop()}},q,this,[[4,14,18,26],[19,,21,25]])}),F.prototype.splitTree=function(t,e){var n=this.left,i=this.middle,r=this.right,o=this.M,s=o.plus(e,n.measure(o));if(t(s)){var u=n.splitDigit(t,e,o);return new b(w(o,u.left),u.middle,a(o,u.right,i,r))}var h=o.plus(s,i.measure());if(t(h)){var p=i.splitTree(t,s),c=p.middle.digit().splitDigit(t,o.plus(s,p.left.measure()),o);return new b(f(o,n,p.left,c.left),c.middle,a(o,c.right,p.right,r))}var l=r.splitDigit(t,h,o);return new b(f(o,n,i,l.left),l.middle,w(o,l.right))},F.prototype.split=function(t){if(t(this.measure())){var e=this.splitTree(t,this.M.zero());return[e.left,e.right.cons(e.middle)]}return[this,new z(this.M)]},O.prototype=new j,O.prototype.force=function(){return null===this.tree&&(this.tree=this.thunk(),this.thunk=null),this.tree},O.prototype.empty=function(){return this.force().empty()},O.prototype.measure=function(){return this.force().measure()},O.prototype.head=function(){return this.force().head()},O.prototype.last=function(){return this.force().last()},O.prototype.cons=function(t){return this.force().cons(t)},O.prototype.push=function(t){return this.force().push(t)},O.prototype.tail=function(){return this.force().tail()},O.prototype.init=function(){return this.force().init()},O.prototype.splitTree=function(t,e){return this.force().splitTree(t,e)},O.prototype.split=function(t){return this.force().split(t)},O.prototype.concat=function(t){return this.force().concat(t)},O.prototype[Symbol.iterator]=function(){return this.force()[Symbol.iterator]()},t.empty=function(t){return new z(t)},t.from=r,t};"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define("aureooms-js-fingertree",[],function(){return t({})}):"object"==typeof window&&"object"==typeof window.document?t(window.fingertree={}):console.error("unable to detect type of module to define for aureooms-js-fingertree")}();
//# sourceMappingURL=js/dist/fingertree.js.map