'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.app3 = app3;

var _tree = require('../../3-tree');

var _lazy = require('../../4-lazy');

var _fast = require('../_fast');

function app3(A, list, B) {

	A = A.force();
	B = B.force();

	if (A instanceof _tree.Empty) return (0, _fast._prepend)(B, list);
	if (B instanceof _tree.Empty) return (0, _fast._append)(A, list);

	if (A instanceof _tree.Single) return (0, _fast._prepend)(B, list).cons(A.head());
	if (B instanceof _tree.Single) return (0, _fast._append)(A, list).push(B.last());

	return new _tree.Deep(A.M, A.left, (0, _lazy.delay)(function () {
		return app3(A.middle, A.right._nodes_with_list(A.M, list, B.left), B.middle);
	}), B.right);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy8wLWNvcmUvY29uY2F0ZW5hdGUvYXBwMy5qcyJdLCJuYW1lcyI6WyJhcHAzIiwiQSIsImxpc3QiLCJCIiwiZm9yY2UiLCJjb25zIiwiaGVhZCIsInB1c2giLCJsYXN0IiwiTSIsImxlZnQiLCJtaWRkbGUiLCJyaWdodCIsIl9ub2Rlc193aXRoX2xpc3QiXSwibWFwcGluZ3MiOiI7Ozs7O1FBSWdCQSxJLEdBQUFBLEk7O0FBSmhCOztBQUNBOztBQUNBOztBQUVPLFNBQVNBLElBQVQsQ0FBZ0JDLENBQWhCLEVBQW9CQyxJQUFwQixFQUEyQkMsQ0FBM0IsRUFBK0I7O0FBRXJDRixLQUFJQSxFQUFFRyxLQUFGLEVBQUo7QUFDQUQsS0FBSUEsRUFBRUMsS0FBRixFQUFKOztBQUVBLEtBQUtILHdCQUFMLEVBQTBCLE9BQU8sb0JBQVVFLENBQVYsRUFBY0QsSUFBZCxDQUFQO0FBQzFCLEtBQUtDLHdCQUFMLEVBQTBCLE9BQU8sbUJBQVNGLENBQVQsRUFBYUMsSUFBYixDQUFQOztBQUUxQixLQUFLRCx5QkFBTCxFQUEyQixPQUFPLG9CQUFVRSxDQUFWLEVBQWNELElBQWQsRUFBcUJHLElBQXJCLENBQTJCSixFQUFFSyxJQUFGLEVBQTNCLENBQVA7QUFDM0IsS0FBS0gseUJBQUwsRUFBMkIsT0FBTyxtQkFBU0YsQ0FBVCxFQUFhQyxJQUFiLEVBQW9CSyxJQUFwQixDQUEwQkosRUFBRUssSUFBRixFQUExQixDQUFQOztBQUUzQixRQUFPLGVBQ05QLEVBQUVRLENBREksRUFFTlIsRUFBRVMsSUFGSSxFQUdOLGlCQUFPO0FBQUEsU0FBT1YsS0FDYkMsRUFBRVUsTUFEVyxFQUViVixFQUFFVyxLQUFGLENBQVFDLGdCQUFSLENBQTBCWixFQUFFUSxDQUE1QixFQUFnQ1AsSUFBaEMsRUFBdUNDLEVBQUVPLElBQXpDLENBRmEsRUFHYlAsRUFBRVEsTUFIVyxDQUFQO0FBQUEsRUFBUCxDQUhNLEVBUU5SLEVBQUVTLEtBUkksQ0FBUDtBQVdBIiwiZmlsZSI6ImFwcDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbXB0eSAsIFNpbmdsZSAsIERlZXAgfSBmcm9tICcuLi8uLi8zLXRyZWUnIDtcbmltcG9ydCB7IGRlbGF5IH0gZnJvbSAnLi4vLi4vNC1sYXp5JyA7XG5pbXBvcnQgeyBfcHJlcGVuZCAsIF9hcHBlbmQgfSBmcm9tICcuLi9fZmFzdCcgO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwMyAoIEEgLCBsaXN0ICwgQiApIHtcblxuXHRBID0gQS5mb3JjZSggKSA7XG5cdEIgPSBCLmZvcmNlKCApIDtcblxuXHRpZiAoIEEgaW5zdGFuY2VvZiBFbXB0eSApIHJldHVybiBfcHJlcGVuZCggQiAsIGxpc3QgKSA7XG5cdGlmICggQiBpbnN0YW5jZW9mIEVtcHR5ICkgcmV0dXJuIF9hcHBlbmQoIEEgLCBsaXN0ICkgO1xuXG5cdGlmICggQSBpbnN0YW5jZW9mIFNpbmdsZSApIHJldHVybiBfcHJlcGVuZCggQiAsIGxpc3QgKS5jb25zKCBBLmhlYWQoICkgKSA7XG5cdGlmICggQiBpbnN0YW5jZW9mIFNpbmdsZSApIHJldHVybiBfYXBwZW5kKCBBICwgbGlzdCApLnB1c2goIEIubGFzdCggKSApIDtcblxuXHRyZXR1cm4gbmV3IERlZXAoXG5cdFx0QS5NICxcblx0XHRBLmxlZnQgLFxuXHRcdGRlbGF5KCAoICkgPT4gYXBwMyhcblx0XHRcdEEubWlkZGxlICxcblx0XHRcdEEucmlnaHQuX25vZGVzX3dpdGhfbGlzdCggQS5NICwgbGlzdCAsIEIubGVmdCApICxcblx0XHRcdEIubWlkZGxlXG5cdFx0KSApICxcblx0XHRCLnJpZ2h0XG5cdCkgO1xuXG59XG4iXX0=