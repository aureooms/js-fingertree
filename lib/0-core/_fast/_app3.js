'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports._app3 = _app3;

var _tree = require('../../3-tree');

var _lazy = require('../../4-lazy');

var _concatenate = require('../concatenate');

function _app3(A, B) {

	B = B.force();

	if (B instanceof _tree.Empty) return A;

	if (B instanceof _tree.Single) return A.push(B.last());

	return new _tree.Deep(A.M, A.left, (0, _lazy.delay)(function () {
		return (0, _concatenate.app3)(A.middle, A.right._nodes(A.M, B.left), B.middle);
	}), B.right);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy8wLWNvcmUvX2Zhc3QvX2FwcDMuanMiXSwibmFtZXMiOlsiX2FwcDMiLCJBIiwiQiIsImZvcmNlIiwicHVzaCIsImxhc3QiLCJNIiwibGVmdCIsIm1pZGRsZSIsInJpZ2h0IiwiX25vZGVzIl0sIm1hcHBpbmdzIjoiOzs7OztRQUlnQkEsSyxHQUFBQSxLOztBQUpoQjs7QUFDQTs7QUFDQTs7QUFFTyxTQUFTQSxLQUFULENBQWlCQyxDQUFqQixFQUFxQkMsQ0FBckIsRUFBeUI7O0FBRS9CQSxLQUFJQSxFQUFFQyxLQUFGLEVBQUo7O0FBRUEsS0FBS0Qsd0JBQUwsRUFBMEIsT0FBT0QsQ0FBUDs7QUFFMUIsS0FBS0MseUJBQUwsRUFBMkIsT0FBT0QsRUFBRUcsSUFBRixDQUFRRixFQUFFRyxJQUFGLEVBQVIsQ0FBUDs7QUFFM0IsUUFBTyxlQUNOSixFQUFFSyxDQURJLEVBRU5MLEVBQUVNLElBRkksRUFHTixpQkFBTztBQUFBLFNBQU8sdUJBQ2JOLEVBQUVPLE1BRFcsRUFFYlAsRUFBRVEsS0FBRixDQUFRQyxNQUFSLENBQWdCVCxFQUFFSyxDQUFsQixFQUFzQkosRUFBRUssSUFBeEIsQ0FGYSxFQUdiTCxFQUFFTSxNQUhXLENBQVA7QUFBQSxFQUFQLENBSE0sRUFRTk4sRUFBRU8sS0FSSSxDQUFQO0FBV0EiLCJmaWxlIjoiX2FwcDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbXB0eSAsIFNpbmdsZSAsIERlZXAgfSBmcm9tICcuLi8uLi8zLXRyZWUnIDtcbmltcG9ydCB7IGRlbGF5IH0gZnJvbSAnLi4vLi4vNC1sYXp5JyA7XG5pbXBvcnQgeyBhcHAzIH0gZnJvbSAnLi4vY29uY2F0ZW5hdGUnIDtcblxuZXhwb3J0IGZ1bmN0aW9uIF9hcHAzICggQSAsIEIgKSB7XG5cblx0QiA9IEIuZm9yY2UoICkgO1xuXG5cdGlmICggQiBpbnN0YW5jZW9mIEVtcHR5ICkgcmV0dXJuIEEgO1xuXG5cdGlmICggQiBpbnN0YW5jZW9mIFNpbmdsZSApIHJldHVybiBBLnB1c2goIEIubGFzdCggKSApIDtcblxuXHRyZXR1cm4gbmV3IERlZXAoXG5cdFx0QS5NICxcblx0XHRBLmxlZnQgLFxuXHRcdGRlbGF5KCAoICkgPT4gYXBwMyhcblx0XHRcdEEubWlkZGxlICxcblx0XHRcdEEucmlnaHQuX25vZGVzKCBBLk0gLCBCLmxlZnQgKSAsXG5cdFx0XHRCLm1pZGRsZVxuXHRcdCkgKSAsXG5cdFx0Qi5yaWdodFxuXHQpIDtcblxufVxuIl19